<!DOCTYPE html>
<html lang="en">

<head>
  <!-- HEAD -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Masterchef</title>
  {% load static %}

  <!-- jquery -->
  <SCRIPT src="https://code.jquery.com/jquery-3.2.1.min.js"></SCRIPT>

  <!-- function -->
  <script type="text/javascript" src="{% static 'scripts/ingredient.js' %}"></script>

  <!-- bootstrap -->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

  <!-- style  -->
  <link rel="stylesheet" href="{% static 'styles/ingredient.css' %}">
  <link rel="stylesheet" type="text/css" href="{% static 'styles/styles.css' %}">

  <style>
    .food-categories {
  margin-top: 20px;
}

.category-tiles {
  display: flex;
  flex-wrap: wrap;
}

.category-tile {
  width: calc(33.33% - 20px); /* Adjust the width based on the number of tiles you want in a row */
  margin: 10px;
  text-align: center;
}

.category-button {
  border: none;
  background: none;
  cursor: pointer;
  padding: 0;
}

.category-button img {
  width: 80px; /* Adjust the size of the icon image */
  height: 80px;
  display: block;
  margin: 0 auto 10px;
}

.category-button span {
  font-size: 18px;
}

  </style>
</head>

<!-- **********************
       BODY
       ********************** -->     
<body background="/static/images/cool-background-1.png">
  <!-- **********************
	 HEADER
	 ********************** -->
  
  <div class="header">
    <a href="/ingredient/home/" class="logo">Masterchef</a>
    <div class="header-right">
      <a class="active" href="/ingredient/home/">Home</a>
      <a href="/ingredient/home/">Contact</a>
      <a href="/ingredient/home/">About</a>
    </div>
  </div>

   <!-- **********************
	     Slideshow 
       ********************** -->
  <!-- <div class="slideshow-container">

    <div class="mySlides fade">
     
      <img src="/static/images/slideshow5.jpg" style="width:100%">
      
    </div>
    
    <div class="mySlides fade">
     
      <img src="/static/images/slideshow6.jpg" style="width:100%">
      
    </div>
    
    <div class="mySlides fade">
     
      <img src="/static/images/slideshow7.jpg" style="width:100%">
      
    </div>

    <div class="mySlides fade">
     
      <img src="/static/images/slideshow7.jpg" style="width:100%">
      
    </div>
    
    </div>
    <br>
    
    <div style="text-align:center">
      <span class="dot"></span> 
      <span class="dot"></span> 
      <span class="dot"></span>
      <span class="dot"></span> 
    </div>
    
    <script>
    let slideIndex = 0;
    showSlides();

    function showSlides() {
      let i;
      let slides = document.getElementsByClassName("mySlides");
      let dots = document.getElementsByClassName("dot");
      for (i = 0; i < slides.length; i++) {
        slides[i].classList.remove("active"); // Remove active class from all slides
        slides[i].style.display = "none";  
      }
      slideIndex++;
      if (slideIndex > slides.length) {slideIndex = 1}    
      slides[slideIndex-1].style.display = "block";  
      slides[slideIndex-1].classList.add("active"); // Add active class to the current slide
      setTimeout(showSlides, 5000); // Change image every 2 seconds
    }

    </script> -->
  
    <div class="fullsize-image-div">
      <h1 style="text-align:center; background-color: #deecdd;">Hello, I'm your chef today!</h1>
    </div>
    <!-- **********************
      Search Box for Ingredients
       ********************** -->
      
        <h3>Add your ingredients here...</h3>
        <br/><br/>
        <form class="form-inline" method="GET" action="{% url 'read_ingredient_by_name' %}">
            <div class="row w-100">
                <div class="col-md-10">
                    <input type="text" class="form-control custom-input w-100" id="search-bar" name="q" placeholder="Eggs, Butter, Bread...">
                </div>
                <div class="col-md-2">
                    <button class="btn btn-primary btn-block custom-btn" type="submit">Search</button>
                </div>
            </div>
        </form>
   
   
    <!-- **********************
      Ingredients Buttons
       ********************** -->
      <br/><br/>
      <!-- <h1>Distinct Ingredients</h1> -->
    <!-- Display each distinct ingredient as a button -->
    <div>
        {% for ingredient in distinct_ingredients %}
            <button class="ingredient-button" data-ingredient="{{ ingredient }}">{{ ingredient }}</button>
        {% endfor %}
    </div>

    <script>
        // Add click event listener to each ingredient button
        document.querySelectorAll('.ingredient-button').forEach(button => {
            button.addEventListener('click', () => {
                // Get the ingredient value from the data-attribute
                const ingredient = button.getAttribute('data-ingredient');
                // Get the search bar element
                const searchBar = document.getElementById('search-bar');
                // Append the ingredient value to the search bar
                searchBar.value += (searchBar.value ? ', ' : '') + ingredient;
            });
        });
    </script>
    <br/><br/>
     <!-- **********************
      Recipe Tiles
       ********************** -->
      <div class="row">
        {% for recipe in data %}
        <div class="col-lg-4 mb-4">
            <div class="card bg-light-custom recipe-card">
                <div class="card-body">
                    <h5 class="card-title">{{ recipe.cuisine }}</h5>
                    <p class="card-text"><b>More Ingredients Needed:</b> {{ recipe.ingredientsMoreNeded }}</p>
                    <p class="card-text"><b>Total Time (min):</b> {{ recipe.time }}</p>
                    <p class="card-text"><b>Ingredients:</b> {{ recipe.ingredients }}</p>
                    <p class="card-text"><b>Steps:</b> {{ recipe.steps }}</p>
                    <p class="card-text"><b>Description:</b> {{ recipe.description }}</p>
                    
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    <div class="food-categories">
      <h2>Food Categories</h2>
      <div class="category-tiles">
        <div class="category-tile">
          <button class="category-button" data-category="Vegetables">
            <img src="/static/images/vegetables-icon.png" alt="Vegetables">
            <span>Vegetables</span>
          </button>
          <div>
            {% for ingredient in distinct_ingredients %}
                <button class="ingredient-button" data-ingredient="{{ ingredient }}">{{ ingredient }}</button>
            {% endfor %}
          </div>
        </div>
        <div class="category-tile">
          <button class="category-button" data-category="Fruits">
            <img src="/static/images/fruits-icon.png" alt="Fruits">
            <span>Fruits</span>
          </button>
        </div>
        <div class="category-tile">
          <button class="category-button" data-category="Meat">
            <img src="/static/images/meat-icon.png" alt="Meat">
            <span>Meat</span>
          </button>
        </div>
        <!-- Add more tiles for different categories as needed -->
      </div>
    </div>
    

<!-- Add this script to handle category button clicks -->
<script>
  // Add click event listener to each category button
  document.querySelectorAll('.category-button').forEach(button => {
      button.addEventListener('click', () => {
          // Get the category value from the data-attribute
          const category = button.getAttribute('data-category');
          // Get the search bar element
          const searchBar = document.getElementById('search-bar');
          // Append the category value to the search bar
          searchBar.value += (searchBar.value ? ', ' : '') + category;
      });
  });
</script>
      </div>
      {% if no_recipes_message %}
      <div style="background-color: #f8d7da; color: #721c24; padding: 10px; border-radius: 5px; margin-bottom: 10px;">
          {{ no_recipes_message }}
      </div>
      {% endif %}
      
  <!-- Footer Section -->
  <footer class="footer">
    <div class="container">
      <p>&copy; 2024 Masterchef. All rights reserved.</p>
    </div>
  </footer>
  </section>
</body>

</html>